from __future__ import annotations

from typing import Optional
import typer

app = typer.Typer(add_completion=False)

@app.command()
def info() -> None:
    # Test 'symbols:' alt dizisini arıyor; çıktıda yer almalı
    typer.echo("bist_core CLI OK")
    typer.echo("symbols: []")

@app.command()
def eod(
    date: Optional[str] = typer.Option(
        None,
        "--date",
        "-d",
        metavar="YYYY-MM-DD",
        help="EOD snapshot tarihi (opsiyonel)"
    ),
) -> None:
    # Şimdilik sadece argümanı kabul edip başarıyla çıkmamız yeterli
    # (test sadece 0 exit-code bekliyor)
    return

def main() -> None:
    app()

if __name__ == "__main__":
    main()
